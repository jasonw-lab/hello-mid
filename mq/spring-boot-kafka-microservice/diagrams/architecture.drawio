<mxfile host="Electron" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/28.1.2 Chrome/138.0.7204.243 Electron/37.4.0 Safari/537.36" version="28.1.2" pages="3">
  <diagram id="sample1" name="sample1 - Order/Payment/Inventory/Notification">
    <mxGraphModel dx="2536" dy="1353" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1920" pageHeight="1080" background="none" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="title1" value="sample1: 受注処理システム 概念図" style="text;html=1;strokeColor=none;fillColor=none;fontSize=20;fontStyle=1;align=left;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="40" y="20" width="500" height="40" as="geometry" />
        </mxCell>
        <mxCell id="order" value="Order Service\n(注文作成)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="60" y="180" width="180" height="80" as="geometry" />
        </mxCell>
        <mxCell id="kafka1" value="Kafka\norder-topic" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;size=15;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="320" y="170" width="160" height="100" as="geometry" />
        </mxCell>
        <mxCell id="payment" value="Payment Service\n(決済処理)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="560" y="80" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="inventory" value="Inventory Service\n(在庫更新)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="560" y="180" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="notification" value="Notification Service\n(通知送信)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="560" y="280" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="edge_order_kafka" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=1;strokeColor=#6c8ebf;" parent="1" source="order" target="kafka1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge_kafka_payment" style="edgeStyle=orthogonalEdgeStyle;endArrow=block;endFill=1;strokeColor=#d6b656;" parent="1" source="kafka1" target="payment" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge_kafka_inventory" style="edgeStyle=orthogonalEdgeStyle;endArrow=block;endFill=1;strokeColor=#d6b656;" parent="1" source="kafka1" target="inventory" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge_kafka_notification" style="edgeStyle=orthogonalEdgeStyle;endArrow=block;endFill=1;strokeColor=#d6b656;" parent="1" source="kafka1" target="notification" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="note1" value="非同期連携: Order → Kafka → Payment / Inventory / Notification" style="shape=note;whiteSpace=wrap;html=1;size=14;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="40" y="80" width="460" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="sample2" name="sample2 - Transfer/Monitoring">
    <mxGraphModel dx="2536" dy="1353" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1920" pageHeight="1080" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="title2" value="sample2: 送金監視システム 概念図" style="text;html=1;strokeColor=none;fillColor=none;fontSize=20;fontStyle=1;align=left;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="40" y="20" width="520" height="40" as="geometry" />
        </mxCell>
        <mxCell id="transfer" value="Transfer Service\n(送金データ送信)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="60" y="200" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="monitoring" value="Monitoring Service\n(リアルタイム監視 / Kafka Streams)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;textDirection=ltr;" parent="1" vertex="1">
          <mxGeometry x="335.73" y="410" width="280" height="80" as="geometry" />
        </mxCell>
        <mxCell id="alertNote" value="しきい値超過時に警告（ログ/通知など）" style="shape=note;whiteSpace=wrap;html=1;size=14;fillColor=#fde6e6;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="1070" y="261" width="320" height="100" as="geometry" />
        </mxCell>
        <mxCell id="edge_transfer_kafka" style="edgeStyle=orthogonalEdgeStyle;endArrow=block;endFill=1;strokeColor=#6c8ebf;" parent="1" source="transfer" target="0PJ6ea8j5Y1cTG5pWcNA-2" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="340" y="240" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="edge_kafka_monitoring" style="edgeStyle=orthogonalEdgeStyle;endArrow=block;endFill=1;strokeColor=#d6b656;" parent="1" target="monitoring" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="475.23" y="261" as="sourcePoint" />
            <mxPoint x="475.23" y="391" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="note2" value="Transfer → Kafka → Monitoring (Kafka Streams処理)" style="shape=note;whiteSpace=wrap;html=1;size=14;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="40" y="68" width="320" height="62" as="geometry" />
        </mxCell>
        <mxCell id="fCIikaZ5a--DgBi4ziZC-1" value="&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;rotation=90;align=left;labelPosition=left;verticalLabelPosition=middle;verticalAlign=middle;shadow=0;gradientColor=none;flipH=0;flipV=0;textDirection=vertical-lr;" parent="1" vertex="1">
          <mxGeometry x="465.73" y="151" width="60" height="180" as="geometry" />
        </mxCell>
        <mxCell id="fCIikaZ5a--DgBi4ziZC-3" value="" style="points=[];aspect=fixed;html=1;align=center;shadow=0;dashed=0;fillColor=#FF6A00;strokeColor=none;shape=mxgraph.alibaba_cloud.kafka;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;" parent="1" vertex="1">
          <mxGeometry x="560" y="168" width="56.699999999999996" height="42" as="geometry" />
        </mxCell>
        <mxCell id="0PJ6ea8j5Y1cTG5pWcNA-2" value="monitor-topic　　" style="text;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=20;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;html=1;" vertex="1" parent="1">
          <mxGeometry x="415.73" y="221" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0PJ6ea8j5Y1cTG5pWcNA-5" value="&lt;blockquote style=&quot;margin: 0 0 0 40px; border: none; padding: 0px;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;rotation=90;align=left;labelPosition=left;verticalLabelPosition=middle;verticalAlign=middle;shadow=0;gradientColor=none;flipH=0;flipV=0;textDirection=vertical-lr;" vertex="1" parent="1">
          <mxGeometry x="710" y="240" width="60" height="180" as="geometry" />
        </mxCell>
        <mxCell id="0PJ6ea8j5Y1cTG5pWcNA-6" value="alert-topic　　" style="text;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=20;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;html=1;" vertex="1" parent="1">
          <mxGeometry x="640" y="310" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0PJ6ea8j5Y1cTG5pWcNA-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;startSize=14;endArrow=open;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" edge="1" parent="1" source="fCIikaZ5a--DgBi4ziZC-1" target="0PJ6ea8j5Y1cTG5pWcNA-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0PJ6ea8j5Y1cTG5pWcNA-9" value="" style="points=[];aspect=fixed;html=1;align=center;shadow=0;dashed=0;fillColor=#FF6A00;strokeColor=none;shape=mxgraph.alibaba_cloud.kafka;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;" vertex="1" parent="1">
          <mxGeometry x="743.3" y="261" width="56.699999999999996" height="42" as="geometry" />
        </mxCell>
        <mxCell id="0PJ6ea8j5Y1cTG5pWcNA-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=-0.012;entryY=0.655;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;startSize=14;endArrow=open;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" edge="1" parent="1" source="0PJ6ea8j5Y1cTG5pWcNA-5" target="alertNote">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0PJ6ea8j5Y1cTG5pWcNA-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.925;entryY=0.444;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;fontSize=16;startSize=14;endArrow=open;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" edge="1" parent="1" source="monitoring" target="0PJ6ea8j5Y1cTG5pWcNA-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0PJ6ea8j5Y1cTG5pWcNA-12" value="送金&amp;gt;閾値" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=20;fontFamily=Architects Daughter;fontSource=https%3A%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DArchitects%2BDaughter;" vertex="1" parent="1">
          <mxGeometry x="650" y="400" width="110" height="40" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="S7IJbcDj19-yIlFocj_2" name="ページ3">
    <mxGraphModel dx="2536" dy="1353" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="W9kb1KJ8hjwn5z8rpBf6-167" value="OrderService" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;fontFamily=Helvetica;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=13;" vertex="1" parent="1">
          <mxGeometry x="20" y="20" width="150" height="1604" as="geometry" />
        </mxCell>
        <mxCell id="W9kb1KJ8hjwn5z8rpBf6-168" value="PaymentService" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;fontFamily=Helvetica;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=13;" vertex="1" parent="1">
          <mxGeometry x="313" y="20" width="150" height="1604" as="geometry" />
        </mxCell>
        <mxCell id="W9kb1KJ8hjwn5z8rpBf6-169" value="InventoryService" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;fontFamily=Helvetica;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=13;" vertex="1" parent="1">
          <mxGeometry x="513" y="20" width="150" height="1604" as="geometry" />
        </mxCell>
        <mxCell id="W9kb1KJ8hjwn5z8rpBf6-170" value="AccountService" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;fontFamily=Helvetica;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=13;" vertex="1" parent="1">
          <mxGeometry x="713" y="20" width="150" height="1604" as="geometry" />
        </mxCell>
        <mxCell id="W9kb1KJ8hjwn5z8rpBf6-171" value="Transaction Manager" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;fontFamily=Helvetica;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=13;" vertex="1" parent="1">
          <mxGeometry x="913" y="20" width="173" height="1604" as="geometry" />
        </mxCell>
        <mxCell id="W9kb1KJ8hjwn5z8rpBf6-172" value="Transaction Coordinator" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;fontFamily=Helvetica;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=13;" vertex="1" parent="1">
          <mxGeometry x="1245" y="20" width="195" height="1604" as="geometry" />
        </mxCell>
        <mxCell id="W9kb1KJ8hjwn5z8rpBf6-173" value="Resource Manager" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;fontFamily=Helvetica;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=13;" vertex="1" parent="1">
          <mxGeometry x="1490" y="20" width="156" height="1604" as="geometry" />
        </mxCell>
        <mxCell id="W9kb1KJ8hjwn5z8rpBf6-174" value="RMs" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;fontFamily=Helvetica;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=13;" vertex="1" parent="1">
          <mxGeometry x="1696" y="20" width="150" height="1604" as="geometry" />
        </mxCell>
        <mxCell id="W9kb1KJ8hjwn5z8rpBf6-175" value="alt" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30;fontFamily=Helvetica;" vertex="1" parent="1">
          <mxGeometry x="84" y="863" width="1698" height="666" as="geometry" />
        </mxCell>
        <mxCell id="W9kb1KJ8hjwn5z8rpBf6-176" value="[Global Commit]" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontFamily=Helvetica;fontSize=11;" vertex="1" parent="W9kb1KJ8hjwn5z8rpBf6-175">
          <mxGeometry x="30" width="1668" height="20" as="geometry" />
        </mxCell>
        <mxCell id="W9kb1KJ8hjwn5z8rpBf6-177" value="[Global Rollback]" style="shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;fontFamily=Helvetica;fontSize=11;" vertex="1" parent="W9kb1KJ8hjwn5z8rpBf6-175">
          <mxGeometry y="338" width="1698" height="4" as="geometry" />
        </mxCell>
        <mxCell id="W9kb1KJ8hjwn5z8rpBf6-178" value="Begin Global Transaction" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;fontFamily=Helvetica;fontSize=11;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" edge="1" parent="1" source="W9kb1KJ8hjwn5z8rpBf6-167" target="W9kb1KJ8hjwn5z8rpBf6-171">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="556" y="123" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="W9kb1KJ8hjwn5z8rpBf6-179" value="Register Global Transaction (XID発行)" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;fontFamily=Helvetica;fontSize=11;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" edge="1" parent="1" source="W9kb1KJ8hjwn5z8rpBf6-171" target="W9kb1KJ8hjwn5z8rpBf6-172">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1180" y="171" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="W9kb1KJ8hjwn5z8rpBf6-180" value="XID返却" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;fontFamily=Helvetica;fontSize=11;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" edge="1" parent="1" source="W9kb1KJ8hjwn5z8rpBf6-172" target="W9kb1KJ8hjwn5z8rpBf6-171">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1183" y="219" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="W9kb1KJ8hjwn5z8rpBf6-181" value="XID返却" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;fontFamily=Helvetica;fontSize=11;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" edge="1" parent="1" source="W9kb1KJ8hjwn5z8rpBf6-171" target="W9kb1KJ8hjwn5z8rpBf6-167">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="559" y="267" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="W9kb1KJ8hjwn5z8rpBf6-182" value="Try Reserve Stock (with XID)" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;fontFamily=Helvetica;fontSize=11;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" edge="1" parent="1" source="W9kb1KJ8hjwn5z8rpBf6-167" target="W9kb1KJ8hjwn5z8rpBf6-169">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="350" y="315" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="W9kb1KJ8hjwn5z8rpBf6-183" value="Local SQL + Undo Log" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;fontFamily=Helvetica;fontSize=11;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" edge="1" parent="1" source="W9kb1KJ8hjwn5z8rpBf6-169" target="W9kb1KJ8hjwn5z8rpBf6-173">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1087" y="363" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="W9kb1KJ8hjwn5z8rpBf6-184" value="Branch Register" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;fontFamily=Helvetica;fontSize=11;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" edge="1" parent="1" source="W9kb1KJ8hjwn5z8rpBf6-173" target="W9kb1KJ8hjwn5z8rpBf6-172">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1467" y="411" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="W9kb1KJ8hjwn5z8rpBf6-185" value="Ack" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;fontFamily=Helvetica;fontSize=11;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" edge="1" parent="1" source="W9kb1KJ8hjwn5z8rpBf6-172" target="W9kb1KJ8hjwn5z8rpBf6-173">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1464" y="459" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="W9kb1KJ8hjwn5z8rpBf6-186" value="Try Payment Deduct (with XID)" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;fontFamily=Helvetica;fontSize=11;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" edge="1" parent="1" source="W9kb1KJ8hjwn5z8rpBf6-167" target="W9kb1KJ8hjwn5z8rpBf6-168">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="250" y="507" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="W9kb1KJ8hjwn5z8rpBf6-187" value="Local SQL + Undo Log" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;fontFamily=Helvetica;fontSize=11;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" edge="1" parent="1" source="W9kb1KJ8hjwn5z8rpBf6-168" target="W9kb1KJ8hjwn5z8rpBf6-173">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="987" y="555" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="W9kb1KJ8hjwn5z8rpBf6-188" value="Branch Register" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;fontFamily=Helvetica;fontSize=11;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" edge="1" parent="1" source="W9kb1KJ8hjwn5z8rpBf6-173" target="W9kb1KJ8hjwn5z8rpBf6-172">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1467" y="603" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="W9kb1KJ8hjwn5z8rpBf6-189" value="Ack" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;fontFamily=Helvetica;fontSize=11;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" edge="1" parent="1" source="W9kb1KJ8hjwn5z8rpBf6-172" target="W9kb1KJ8hjwn5z8rpBf6-173">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1464" y="651" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="W9kb1KJ8hjwn5z8rpBf6-190" value="Try Update Order Status (with XID)" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;fontFamily=Helvetica;fontSize=11;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" edge="1" parent="1" source="W9kb1KJ8hjwn5z8rpBf6-167" target="W9kb1KJ8hjwn5z8rpBf6-170">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="450" y="699" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="W9kb1KJ8hjwn5z8rpBf6-191" value="Local SQL + Undo Log" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;fontFamily=Helvetica;fontSize=11;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" edge="1" parent="1" source="W9kb1KJ8hjwn5z8rpBf6-170" target="W9kb1KJ8hjwn5z8rpBf6-173">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1187" y="747" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="W9kb1KJ8hjwn5z8rpBf6-192" value="Branch Register" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;fontFamily=Helvetica;fontSize=11;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" edge="1" parent="1" source="W9kb1KJ8hjwn5z8rpBf6-173" target="W9kb1KJ8hjwn5z8rpBf6-172">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1467" y="795" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="W9kb1KJ8hjwn5z8rpBf6-193" value="Ack" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;fontFamily=Helvetica;fontSize=11;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" edge="1" parent="1" source="W9kb1KJ8hjwn5z8rpBf6-172" target="W9kb1KJ8hjwn5z8rpBf6-173">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1464" y="843" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="W9kb1KJ8hjwn5z8rpBf6-194" value="Request Commit" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;fontFamily=Helvetica;fontSize=11;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" edge="1" parent="1" source="W9kb1KJ8hjwn5z8rpBf6-167" target="W9kb1KJ8hjwn5z8rpBf6-171">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="556" y="936" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="W9kb1KJ8hjwn5z8rpBf6-195" value="Global Commit (XID)" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;fontFamily=Helvetica;fontSize=11;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" edge="1" parent="1" source="W9kb1KJ8hjwn5z8rpBf6-171" target="W9kb1KJ8hjwn5z8rpBf6-172">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1180" y="984" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="W9kb1KJ8hjwn5z8rpBf6-196" value="Commit Branch (delete undo log, release locks)" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;fontFamily=Helvetica;fontSize=11;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" edge="1" parent="1" source="W9kb1KJ8hjwn5z8rpBf6-172" target="W9kb1KJ8hjwn5z8rpBf6-174">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1565" y="1032" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="W9kb1KJ8hjwn5z8rpBf6-197" value="Ack" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;fontFamily=Helvetica;fontSize=11;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" edge="1" parent="1" source="W9kb1KJ8hjwn5z8rpBf6-174" target="W9kb1KJ8hjwn5z8rpBf6-172">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1568" y="1080" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="W9kb1KJ8hjwn5z8rpBf6-198" value="Global Commit Success" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;fontFamily=Helvetica;fontSize=11;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" edge="1" parent="1" source="W9kb1KJ8hjwn5z8rpBf6-172" target="W9kb1KJ8hjwn5z8rpBf6-171">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1183" y="1128" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="W9kb1KJ8hjwn5z8rpBf6-199" value="Success" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;fontFamily=Helvetica;fontSize=11;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" edge="1" parent="1" source="W9kb1KJ8hjwn5z8rpBf6-171" target="W9kb1KJ8hjwn5z8rpBf6-167">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="559" y="1176" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="W9kb1KJ8hjwn5z8rpBf6-200" value="Request Rollback" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;fontFamily=Helvetica;fontSize=11;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" edge="1" parent="1" source="W9kb1KJ8hjwn5z8rpBf6-167" target="W9kb1KJ8hjwn5z8rpBf6-171">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="556" y="1269" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="W9kb1KJ8hjwn5z8rpBf6-201" value="Global Rollback (XID)" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;fontFamily=Helvetica;fontSize=11;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" edge="1" parent="1" source="W9kb1KJ8hjwn5z8rpBf6-171" target="W9kb1KJ8hjwn5z8rpBf6-172">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1180" y="1317" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="W9kb1KJ8hjwn5z8rpBf6-202" value="Rollback Branch (use undo log)" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;fontFamily=Helvetica;fontSize=11;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" edge="1" parent="1" source="W9kb1KJ8hjwn5z8rpBf6-172" target="W9kb1KJ8hjwn5z8rpBf6-174">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1565" y="1365" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="W9kb1KJ8hjwn5z8rpBf6-203" value="Ack" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;fontFamily=Helvetica;fontSize=11;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" edge="1" parent="1" source="W9kb1KJ8hjwn5z8rpBf6-174" target="W9kb1KJ8hjwn5z8rpBf6-172">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1568" y="1413" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="W9kb1KJ8hjwn5z8rpBf6-204" value="Global Rollback Success" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;fontFamily=Helvetica;fontSize=11;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" edge="1" parent="1" source="W9kb1KJ8hjwn5z8rpBf6-172" target="W9kb1KJ8hjwn5z8rpBf6-171">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1183" y="1461" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="W9kb1KJ8hjwn5z8rpBf6-205" value="Fail" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;fontFamily=Helvetica;fontSize=16;startSize=14;endSize=14;sourcePerimeterSpacing=8;targetPerimeterSpacing=8;" edge="1" parent="1" source="W9kb1KJ8hjwn5z8rpBf6-171" target="W9kb1KJ8hjwn5z8rpBf6-167">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="559" y="1509" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="W9kb1KJ8hjwn5z8rpBf6-206" value="Text" style="text;strokeColor=none;fillColor=none;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;" vertex="1" parent="1">
          <mxGeometry x="840" y="449" width="60" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
